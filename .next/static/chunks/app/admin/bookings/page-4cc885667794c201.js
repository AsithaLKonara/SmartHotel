(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[424],{28203:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},41298:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},99670:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},42482:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},41827:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},45367:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},67972:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(62898).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},21463:function(e,s,t){Promise.resolve().then(t.bind(t,92698))},92698:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return j}});var r=t(57437),a=t(2265),n=t(82749),i=t(41827),l=t(42482),c=t(28203),d=t(67972),o=t(41298),u=t(99670),x=t(45367),m=t(85754),h=t(27815),g=t(31478),f=t(95459),y=t(5925);function j(){let[e,s]=(0,a.useState)([]),[t,j]=(0,a.useState)(!0),[p,v]=(0,a.useState)(""),[N,b]=(0,a.useState)("all"),[k,C]=(0,a.useState)("all"),[w,E]=(0,a.useState)(null),{data:D}=(0,n.useSession)();(0,a.useEffect)(()=>{Z()},[]);let Z=async()=>{try{let e=await fetch("/api/bookings");if(e.ok){let t=await e.json();s(t)}else y.default.error("Failed to fetch bookings")}catch(e){y.default.error("Error fetching bookings")}finally{j(!1)}},I=async(e,s)=>{try{let t=await fetch("/api/bookings/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:s})});if(t.ok)y.default.success("Booking status updated successfully"),Z();else{let e=await t.json();y.default.error(e.error||"Failed to update booking status")}}catch(e){y.default.error("Error updating booking status")}},S=async e=>{if(confirm("Are you sure you want to delete this booking?"))try{let s=await fetch("/api/bookings/".concat(e),{method:"DELETE"});if(s.ok)y.default.success("Booking deleted successfully"),Z();else{let e=await s.json();y.default.error(e.error||"Failed to delete booking")}}catch(e){y.default.error("Error deleting booking")}},P=e=>{switch(e){case"PENDING":return"bg-yellow-100 text-yellow-800";case"CONFIRMED":return"bg-blue-100 text-blue-800";case"CHECKED_IN":return"bg-green-100 text-green-800";case"CHECKED_OUT":default:return"bg-gray-100 text-gray-800";case"CANCELLED":return"bg-red-100 text-red-800"}},z=e=>{switch(e){case"PENDING":return"bg-yellow-100 text-yellow-800";case"PAID":return"bg-green-100 text-green-800";case"FAILED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},R=e.filter(e=>{let s=e.user.name.toLowerCase().includes(p.toLowerCase())||e.room.number.toLowerCase().includes(p.toLowerCase())||e.user.email.toLowerCase().includes(p.toLowerCase()),t="all"===N||e.status===N,r="all"===k||e.paymentStatus===k;return s&&t&&r});return t?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,r.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/4 mb-6"}),(0,r.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-4"}),(0,r.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-2"}),(0,r.jsx)("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/3"})]},s))})]})})}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Booking Management"})}),(0,r.jsx)(h.Zb,{className:"mb-6",children:(0,r.jsx)(h.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Search"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(i.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,r.jsx)("input",{type:"text",placeholder:"Search bookings...",value:p,onChange:e=>v(e.target.value),className:"pl-10 input-field"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Status"}),(0,r.jsxs)("select",{value:N,onChange:e=>b(e.target.value),className:"input-field",children:[(0,r.jsx)("option",{value:"all",children:"All Status"}),(0,r.jsx)("option",{value:"PENDING",children:"Pending"}),(0,r.jsx)("option",{value:"CONFIRMED",children:"Confirmed"}),(0,r.jsx)("option",{value:"CHECKED_IN",children:"Checked In"}),(0,r.jsx)("option",{value:"CHECKED_OUT",children:"Checked Out"}),(0,r.jsx)("option",{value:"CANCELLED",children:"Cancelled"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Payment Status"}),(0,r.jsxs)("select",{value:k,onChange:e=>C(e.target.value),className:"input-field",children:[(0,r.jsx)("option",{value:"all",children:"All Payment Status"}),(0,r.jsx)("option",{value:"PENDING",children:"Pending"}),(0,r.jsx)("option",{value:"PAID",children:"Paid"}),(0,r.jsx)("option",{value:"FAILED",children:"Failed"}),(0,r.jsx)("option",{value:"REFUNDED",children:"Refunded"})]})]}),(0,r.jsx)("div",{className:"flex items-end",children:(0,r.jsxs)(m.z,{variant:"outline",onClick:()=>{v(""),b("all"),C("all")},className:"w-full",children:[(0,r.jsx)(l.Z,{className:"w-4 h-4 mr-2"}),"Clear Filters"]})})]})})}),(0,r.jsx)("div",{className:"space-y-4",children:R.map(e=>(0,r.jsx)(h.Zb,{className:"hover:shadow-lg transition-shadow",children:(0,r.jsx)(h.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold",children:["Booking #",e.id.slice(-8)]}),(0,r.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:[e.user.name," - ",e.user.email]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(g.C,{className:P(e.status),children:e.status}),(0,r.jsx)(g.C,{className:z(e.paymentStatus),children:e.paymentStatus})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(c.Z,{className:"w-4 h-4 text-gray-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:"Check-in"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:(0,f.Z)(new Date(e.checkIn),"MMM dd, yyyy")})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(c.Z,{className:"w-4 h-4 text-gray-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:"Check-out"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:(0,f.Z)(new Date(e.checkOut),"MMM dd, yyyy")})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(d.Z,{className:"w-4 h-4 text-gray-500"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:"Guests"}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[e.guests," ",1===e.guests?"guest":"guests"]})]})]})]}),(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:"Room:"}),(0,r.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:[e.room.number," (",e.room.type,")"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(o.Z,{className:"w-4 h-4 text-gray-500"}),(0,r.jsxs)("span",{className:"text-sm font-medium",children:["$",e.totalAmount]})]})]})})]}),(0,r.jsxs)("div",{className:"flex gap-2 lg:flex-col",children:[(0,r.jsxs)(m.z,{variant:"outline",size:"sm",onClick:()=>E(e),children:[(0,r.jsx)(u.Z,{className:"w-4 h-4 mr-1"}),"View"]}),"PENDING"===e.status&&(0,r.jsx)(m.z,{variant:"outline",size:"sm",onClick:()=>I(e.id,"CONFIRMED"),children:"Confirm"}),"CONFIRMED"===e.status&&(0,r.jsx)(m.z,{variant:"outline",size:"sm",onClick:()=>I(e.id,"CHECKED_IN"),children:"Check In"}),"CHECKED_IN"===e.status&&(0,r.jsx)(m.z,{variant:"outline",size:"sm",onClick:()=>I(e.id,"CHECKED_OUT"),children:"Check Out"}),["PENDING","CONFIRMED"].includes(e.status)&&(0,r.jsx)(m.z,{variant:"outline",size:"sm",onClick:()=>I(e.id,"CANCELLED"),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"Cancel"}),"CANCELLED"===e.status&&(0,r.jsx)(m.z,{variant:"outline",size:"sm",onClick:()=>S(e.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,r.jsx)(x.Z,{className:"w-4 h-4"})})]})]})})},e.id))}),0===R.length&&(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No bookings found matching your criteria."})}),w&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-bold",children:"Booking Details"}),(0,r.jsxs)(m.z,{variant:"ghost",size:"icon",onClick:()=>E(null),children:[(0,r.jsx)("span",{className:"sr-only",children:"Close"}),"\xd7"]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Guest Information"}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Name:"})," ",w.user.name]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Email:"})," ",w.user.email]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Guests:"})," ",w.guests]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Room Information"}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Room:"})," ",w.room.number]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Type:"})," ",w.room.type]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Total Amount:"})," $",w.totalAmount]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Dates"}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Check-in:"})," ",(0,f.Z)(new Date(w.checkIn),"PPP")]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Check-out:"})," ",(0,f.Z)(new Date(w.checkOut),"PPP")]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Booked on:"})," ",(0,f.Z)(new Date(w.createdAt),"PPP")]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Status"}),(0,r.jsx)(g.C,{className:P(w.status),children:w.status}),(0,r.jsx)("br",{}),(0,r.jsx)(g.C,{className:z(w.paymentStatus),children:w.paymentStatus})]})]}),w.specialRequests&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Special Requests"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:w.specialRequests})]})]})]})})]})})}},31478:function(e,s,t){"use strict";t.d(s,{C:function(){return l}});var r=t(57437);t(2265);var a=t(96061),n=t(1657);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:s,variant:t,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:t}),s),...a})}},85754:function(e,s,t){"use strict";t.d(s,{z:function(){return c}});var r=t(57437),a=t(2265),n=t(96061),i=t(1657);let l=(0,n.j)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,s)=>{let{className:t,variant:a,size:n,asChild:c=!1,...d}=e;return(0,r.jsx)("button",{className:(0,i.cn)(l({variant:a,size:n,className:t})),ref:s,...d})});c.displayName="Button"},27815:function(e,s,t){"use strict";t.d(s,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return i},aY:function(){return o},ll:function(){return c}});var r=t(57437),a=t(2265),n=t(1657);let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});i.displayName="Card";let l=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...a})});l.displayName="CardHeader";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...a})});o.displayName="CardContent",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},1657:function(e,s,t){"use strict";t.d(s,{T4:function(){return i},cn:function(){return n},p6:function(){return l}});var r=t(57042),a=t(74769);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.m6)((0,r.W)(s))}function i(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:s}).format(e)}function l(e){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(new Date(e))}}},function(e){e.O(0,[250,749,904,971,938,744],function(){return e(e.s=21463)}),_N_E=e.O()}]);