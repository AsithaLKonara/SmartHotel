(()=>{var e={};e.id=4069,e.ids=[4069],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},20330:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>o,pages:()=>x,routeModule:()=>h,tree:()=>d});var a=t(50482),r=t(69108),l=t(62563),i=t.n(l),n=t(68300),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d=["",{children:["admin",{children:["dashboard",{children:["checkin-checkout",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9338)),"C:\\Users\\asith\\Documents\\SmartHotel\\app\\admin\\dashboard\\checkin-checkout\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,66294)),"C:\\Users\\asith\\Documents\\SmartHotel\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,35250)),"C:\\Users\\asith\\Documents\\SmartHotel\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],x=["C:\\Users\\asith\\Documents\\SmartHotel\\app\\admin\\dashboard\\checkin-checkout\\page.tsx"],o="/admin/dashboard/checkin-checkout/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/dashboard/checkin-checkout/page",pathname:"/admin/dashboard/checkin-checkout",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},85358:(e,s,t)=>{Promise.resolve().then(t.bind(t,39633))},39633:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>E});var a=t(95344),r=t(3729),l=t(47674),i=t(63024),n=t(35299),c=t(55794),d=t(18822),x=t(89895),o=t(25545),m=t(40626),h=t(7060),u=t(73229),g=t(71206),j=t(16212),y=t(61351),p=t(69436),N=t(35434),b=t(20641),v=t(4518),k=t(67235);function f(e,s){(0,k.Z)(2,arguments);var t=(0,v.Z)(e),a=(0,b.Z)(s);return isNaN(a)?new Date(NaN):(a&&t.setDate(t.getDate()+a),t)}function w(e){(0,k.Z)(1,arguments);var s=(0,v.Z)(e);return s.setHours(0,0,0,0),s}function Z(e,s){(0,k.Z)(2,arguments);var t=w(e),a=w(s);return t.getTime()===a.getTime()}function C(e,s){return(0,k.Z)(2,arguments),f(e,-(0,b.Z)(s))}var D=t(44669);function E(){let{data:e}=(0,l.useSession)(),[s,t]=(0,r.useState)(new Date),[b,v]=(0,r.useState)([]),[w,E]=(0,r.useState)(!0),[M,_]=(0,r.useState)(null);(0,r.useEffect)(()=>{P()},[s]);let P=async()=>{try{E(!0);let e=(0,N.Z)(s,"yyyy-MM-dd"),t=(0,N.Z)(f(s,1),"yyyy-MM-dd"),a=await fetch(`/api/bookings?startDate=${e}&endDate=${t}`);if(a.ok){let e=await a.json();v(e)}else D.default.error("Failed to fetch bookings")}catch(e){console.error("Error fetching bookings:",e),D.default.error("Failed to fetch bookings")}finally{E(!1)}},q=async(e,s)=>{try{_(e);let t=await fetch(`/api/bookings/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:s})});if(t.ok)D.default.success(`Booking ${s.toLowerCase().replace("_"," ")} successfully`),P();else{let e=await t.json();D.default.error(e.error||"Failed to update booking")}}catch(e){console.error("Error updating booking:",e),D.default.error("Failed to update booking")}finally{_(null)}},H=()=>b.filter(e=>{let t=new Date(e.checkIn);return(0,N.Z)(t,"yyyy-MM-dd")===(0,N.Z)(s,"yyyy-MM-dd")&&"CHECKED_IN"!==e.status}),I=()=>b.filter(e=>{let t=new Date(e.checkOut);return(0,N.Z)(t,"yyyy-MM-dd")===(0,N.Z)(s,"yyyy-MM-dd")&&"CHECKED_IN"===e.status}),O=()=>b.filter(e=>"CHECKED_IN"===e.status),S=e=>!function(e){return(0,k.Z)(1,arguments),Z(e,Date.now())}(e)?!function(e){return(0,k.Z)(1,arguments),Z(e,f(Date.now(),1))}(e)?!function(e){return(0,k.Z)(1,arguments),Z(e,C(Date.now(),1))}(e)?(0,N.Z)(e,"EEEE, MMMM d"):"Yesterday":"Tomorrow":"Today",T=e=>{let s={PENDING:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",CONFIRMED:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",CHECKED_IN:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",CHECKED_OUT:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",CANCELLED:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"};return a.jsx(p.C,{className:s[e]||s.PENDING,children:e.replace("_"," ")})},z=e=>{let s={PENDING:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",PAID:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",FAILED:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",REFUNDED:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"};return a.jsx(p.C,{className:s[e]||s.PENDING,children:e})};return w?a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Check-in & Check-out Dashboard"}),(0,a.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["Manage guest arrivals and departures for ",S(s)]})]}),a.jsx(y.Zb,{className:"mb-6",children:a.jsx(y.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(j.z,{variant:"outline",onClick:()=>t(C(s,1)),children:[a.jsx(i.Z,{className:"w-4 h-4 mr-2"}),"Previous Day"]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-semibold",children:S(s)}),a.jsx("p",{className:"text-sm text-gray-500",children:(0,N.Z)(s,"EEEE, MMMM d, yyyy")})]}),(0,a.jsxs)(j.z,{variant:"outline",onClick:()=>t(f(s,1)),children:["Next Day",a.jsx(n.Z,{className:"w-4 h-4 ml-2"})]})]})})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-1",children:(0,a.jsxs)(y.Zb,{children:[a.jsx(y.Ol,{children:(0,a.jsxs)(y.ll,{className:"flex items-center",children:[a.jsx(n.Z,{className:"w-5 h-5 mr-2 text-green-600"}),"Check-ins (",H().length,")"]})}),a.jsx(y.aY,{children:0===H().length?(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(c.Z,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No check-ins scheduled"})]}):a.jsx("div",{className:"space-y-4",children:H().map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-semibold",children:["Room ",e.room.number]}),a.jsx("p",{className:"text-sm text-gray-600",children:e.room.type})]}),T(e.status)]}),(0,a.jsxs)("div",{className:"space-y-2 mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[a.jsx(d.Z,{className:"w-4 h-4 mr-2 text-gray-500"}),a.jsx("span",{children:e.user.name})]}),(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[a.jsx(x.Z,{className:"w-4 h-4 mr-2 text-gray-500"}),(0,a.jsxs)("span",{children:[e.guests," guest",e.guests>1?"s":""]})]}),(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[a.jsx(o.Z,{className:"w-4 h-4 mr-2 text-gray-500"}),(0,a.jsxs)("span",{children:["Check-in: ",(0,N.Z)(new Date(e.checkIn),"h:mm a")]})]}),e.user.phone&&(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[a.jsx(m.Z,{className:"w-4 h-4 mr-2 text-gray-500"}),a.jsx("span",{children:e.user.phone})]})]}),e.specialRequests&&(0,a.jsxs)("div",{className:"mb-3 p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded text-sm",children:[a.jsx("strong",{children:"Special Requests:"})," ",e.specialRequests]}),e.invoice&&(0,a.jsxs)("div",{className:"mb-3",children:[z(e.invoice.status),(0,a.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:["Total: $",e.invoice.total.toFixed(2)]})]}),a.jsx("div",{className:"flex space-x-2",children:a.jsx(j.z,{size:"sm",onClick:()=>q(e.id,"CHECKED_IN"),disabled:M===e.id,className:"flex-1",children:M===e.id?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(h.Z,{className:"w-4 h-4 mr-1"}),"Check In"]})})})]},e.id))})})]})}),a.jsx("div",{className:"lg:col-span-1",children:(0,a.jsxs)(y.Zb,{children:[a.jsx(y.Ol,{children:(0,a.jsxs)(y.ll,{className:"flex items-center",children:[a.jsx(i.Z,{className:"w-5 h-5 mr-2 text-red-600"}),"Check-outs (",I().length,")"]})}),a.jsx(y.aY,{children:0===I().length?(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(c.Z,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No check-outs scheduled"})]}):a.jsx("div",{className:"space-y-4",children:I().map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-semibold",children:["Room ",e.room.number]}),a.jsx("p",{className:"text-sm text-gray-600",children:e.room.type})]}),T(e.status)]}),(0,a.jsxs)("div",{className:"space-y-2 mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[a.jsx(d.Z,{className:"w-4 h-4 mr-2 text-gray-500"}),a.jsx("span",{children:e.user.name})]}),(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[a.jsx(x.Z,{className:"w-4 h-4 mr-2 text-gray-500"}),(0,a.jsxs)("span",{children:[e.guests," guest",e.guests>1?"s":""]})]}),(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[a.jsx(o.Z,{className:"w-4 h-4 mr-2 text-gray-500"}),(0,a.jsxs)("span",{children:["Check-out: ",(0,N.Z)(new Date(e.checkOut),"h:mm a")]})]}),e.user.phone&&(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[a.jsx(m.Z,{className:"w-4 h-4 mr-2 text-gray-500"}),a.jsx("span",{children:e.user.phone})]})]}),e.invoice&&(0,a.jsxs)("div",{className:"mb-3",children:[z(e.invoice.status),(0,a.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:["Total: $",e.invoice.total.toFixed(2)]})]}),a.jsx("div",{className:"flex space-x-2",children:a.jsx(j.z,{size:"sm",variant:"outline",onClick:()=>q(e.id,"CHECKED_OUT"),disabled:M===e.id,className:"flex-1",children:M===e.id?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600"}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(u.Z,{className:"w-4 h-4 mr-1"}),"Check Out"]})})})]},e.id))})})]})}),a.jsx("div",{className:"lg:col-span-1",children:(0,a.jsxs)(y.Zb,{children:[a.jsx(y.Ol,{children:(0,a.jsxs)(y.ll,{className:"flex items-center",children:[a.jsx(x.Z,{className:"w-5 h-5 mr-2 text-blue-600"}),"Current Guests (",O().length,")"]})}),a.jsx(y.aY,{children:0===O().length?(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(x.Z,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"No guests currently checked in"})]}):a.jsx("div",{className:"space-y-4",children:O().map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-semibold",children:["Room ",e.room.number]}),a.jsx("p",{className:"text-sm text-gray-600",children:e.room.type})]}),T(e.status)]}),(0,a.jsxs)("div",{className:"space-y-2 mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[a.jsx(d.Z,{className:"w-4 h-4 mr-2 text-gray-500"}),a.jsx("span",{children:e.user.name})]}),(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[a.jsx(x.Z,{className:"w-4 h-4 mr-2 text-gray-500"}),(0,a.jsxs)("span",{children:[e.guests," guest",e.guests>1?"s":""]})]}),(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[a.jsx(c.Z,{className:"w-4 h-4 mr-2 text-gray-500"}),(0,a.jsxs)("span",{children:["Until ",(0,N.Z)(new Date(e.checkOut),"MMM d")]})]}),e.user.phone&&(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[a.jsx(m.Z,{className:"w-4 h-4 mr-2 text-gray-500"}),a.jsx("span",{children:e.user.phone})]}),(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[a.jsx(g.Z,{className:"w-4 h-4 mr-2 text-gray-500"}),a.jsx("span",{children:e.user.email})]})]}),e.invoice&&(0,a.jsxs)("div",{className:"mb-3",children:[z(e.invoice.status),(0,a.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:["Total: $",e.invoice.total.toFixed(2)]})]}),a.jsx("div",{className:"flex space-x-2",children:a.jsx(j.z,{size:"sm",variant:"outline",onClick:()=>q(e.id,"CHECKED_OUT"),disabled:M===e.id,className:"flex-1",children:M===e.id?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600"}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(u.Z,{className:"w-4 h-4 mr-1"}),"Check Out"]})})})]},e.id))})})]})})]}),a.jsx("div",{className:"mt-8",children:(0,a.jsxs)(y.Zb,{children:[a.jsx(y.Ol,{children:a.jsx(y.ll,{children:"Daily Summary"})}),a.jsx(y.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:H().length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Check-ins"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:I().length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Check-outs"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:O().length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Current Guests"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-gray-600",children:H().length+I().length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Actions"})]})]})})]})})]})})}},63024:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(69224).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7060:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(69224).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},25545:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(69224).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},71206:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(69224).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},40626:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(69224).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},18822:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(69224).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},73229:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(69224).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},9338:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>r,default:()=>i});let a=(0,t(86843).createProxy)(String.raw`C:\Users\asith\Documents\SmartHotel\app\admin\dashboard\checkin-checkout\page.tsx`),{__esModule:r,$$typeof:l}=a,i=a.default}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[1638,9990,4655,4626,7674,5674,7483,1088],()=>t(20330));module.exports=a})();